From a5ef554e86dbc6ffdcfc4b8bf384f27bffd3ad47 Mon Sep 17 00:00:00 2001
From: Philippe Bellanger <pbellanger@hotmail.com>
Date: Tue, 6 Feb 2018 21:26:15 -0500
Subject: [PATCH] Fix for bug which forces phone to continuously attempt to
 enable NFC

Change-Id: Ifdb8c0268c5e0453f9864fa65a36807b1b1ef79a
---
 halimpl/bcm2079x/hal/hal/nfc_hal_main.c | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/halimpl/bcm2079x/hal/hal/nfc_hal_main.c b/halimpl/bcm2079x/hal/hal/nfc_hal_main.c
index 7b4e79b..cbcb2ca 100644
--- a/halimpl/bcm2079x/hal/hal/nfc_hal_main.c
+++ b/halimpl/bcm2079x/hal/hal/nfc_hal_main.c
@@ -650,7 +650,7 @@ uint32_t nfc_hal_main_task(uint32_t param) {
             p += 5;
             STREAM_TO_UINT8(num_interfaces, p);
             p += (num_interfaces + 3);
-            nfc_hal_cb.ncit_cb.nci_ctrl_size = *p;
+            nfc_hal_cb.ncit_cb.nci_ctrl_size = 255;
 
             /* start post initialization */
             nfc_hal_cb.dev_cb.next_dm_config = NFC_HAL_DM_CONFIG_LPTD;
-- 
1.9.1

